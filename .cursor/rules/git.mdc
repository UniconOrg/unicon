---
description: Convenciones de Git, commits y flujo de trabajo del proyecto Unicon
globs: 
alwaysApply: true
---

# Convenciones Git — Unicon Frontend

## Regla Fundamental sobre Commits

> **PROHIBICIÓN**: El asistente de IA (Cursor) **NUNCA** debe crear commits automáticamente ni ejecutar `git commit` por su cuenta. Los commits solo se realizan cuando el usuario lo solicita **explícitamente**. Si el usuario no pide hacer commit, NO se hace commit. Esto aplica incluso si se completó una tarea o feature completa.

## Commits

### Formato de Mensajes (Conventional Commits)
Cuando el usuario solicite explícitamente un commit, el mensaje debe estar **en inglés** y seguir estrictamente el formato de **Conventional Commits**:

```
<type>(<scope>): <short description>

[optional body]

[optional footer]
```

### Tipos Permitidos
| Tipo       | Uso                                                      |
|------------|----------------------------------------------------------|
| `feat`     | Nueva funcionalidad visible para el usuario              |
| `fix`      | Corrección de un bug                                     |
| `docs`     | Cambios solo en documentación                            |
| `style`    | Cambios de formato (espacios, comas, etc.) sin lógica    |
| `refactor` | Cambio de código que no agrega feature ni corrige bug    |
| `perf`     | Mejora de rendimiento                                    |
| `test`     | Agregar o corregir tests                                 |
| `build`    | Cambios en sistema de build o dependencias               |
| `ci`       | Cambios en configuración de CI/CD                        |
| `chore`    | Tareas de mantenimiento que no afectan código de prod    |
| `revert`   | Revertir un commit anterior                              |

### Scopes Sugeridos
`auth`, `events`, `sponsors`, `i18n`, `ui`, `api`, `config`, `layout`, `seo`, `a11y`, `deps`

### Reglas de Commits
- ❌ **NUNCA** hacer commit sin que el usuario lo pida explícitamente.
- ❌ **NUNCA** inventar mensajes de commit — siempre seguir Conventional Commits.
- ✅ Cuando el usuario pida commit, proponer el mensaje siguiendo el formato y esperar aprobación.
- La descripción corta debe tener máximo **72 caracteres**.
- Usar **imperativo** en la descripción: "add feature" no "added feature".
- Un commit = un cambio lógico. NO mezclar refactors con features.
- NO commitear archivos de build, `.env`, `node_modules`, ni `.next/`.
- NO commitear `console.log`, código comentado, ni TODOs temporales.

### Ejemplos
```
feat(events): add event detail page with SSR
fix(i18n): resolve missing translation keys for Spanish locale
refactor(api): extract HTTP client into reusable service
chore(deps): upgrade next to 15.5.0
perf(ui): lazy load gallery images with intersection observer
```

## Branching Strategy (Git Flow Simplificado)

### Ramas Principales
- `main` — Producción. Siempre desplegable.
- `develop` — Integración. Base para nuevas features.

### Ramas de Trabajo
- `feature/<scope>-<description>` — Nuevas funcionalidades (ej: `feature/events-detail-page`)
- `fix/<scope>-<description>` — Correcciones de bugs (ej: `fix/i18n-missing-keys`)
- `hotfix/<description>` — Fixes urgentes sobre `main`
- `refactor/<description>` — Refactorizaciones grandes

### Flujo
1. Crear rama desde `develop` (o `main` para hotfix).
2. Desarrollar con commits atómicos y descriptivos.
3. Abrir PR contra `develop`.
4. Code review + aprobación.
5. Merge con **squash** o **merge commit** según complejidad.

## Reglas del Repositorio
- NUNCA hacer push directo a `main` ni `develop`.
- NUNCA hacer `force push` en ramas compartidas.
- Mantener el historial limpio: usar `rebase` en ramas locales antes de PR.
- Cada PR debe incluir descripción clara del cambio y screenshots si es UI.
